@namespace Order.Client.Components.Layout

<Column @onclick=@HandleClick>
    <button @attributes=@AdditionalAttributes class="@CssClass" type="button" style="background-image:url(@icon); 
            background-position: 0% 0%;
            background-size: 100% 100%;">
    </button>
    <div class="label" style="color:@labelColor">
        @Label
    </div>
</Column>

@code{
    [Parameter]
    public string ClickedIcon { get; set; }

    [Parameter]
    public string UnClickedIcon { get; set; }

    [Parameter]
    public string Label { get; set; }

    [Parameter]
    public string CssClass { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, Object> AdditionalAttributes { get; set; }

    [Parameter]
    public EventCallback<MouseEventArgs> OnClick { get; set; }

    public bool Selected { get; private set; }

    private string icon { get => Selected ? ClickedIcon : UnClickedIcon; }
    private string labelColor { get => Selected ? "black" : "grey"; }

    public void ToggleSelected()
    {
        Selected = !Selected;
        StateHasChanged();
    }

    private async Task HandleClick(MouseEventArgs args)
    {
        await OnClick.InvokeAsync(args);
    }
}
