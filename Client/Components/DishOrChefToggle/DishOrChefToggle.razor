@namespace Order.Client.Components

<div class="toggle">
    <input type="radio" name="sizeBy" value="left" id="left-radio" checked="checked" @onchange=@OnSelect />
    <label for="left-radio">@LeftLabel</label>
    <input type="radio" name="sizeBy" value="right" id="right-radio" @onchange=@OnSelect />
    <label for="right-radio">@RightLabel</label>
</div>

@code {
    [Parameter]
    public string LeftLabel { get; set; }

    [Parameter]
    public string RightLabel { get; set; }

    /// <summary>
    /// false means the left option is selected, which is the
    /// default switch position.
    /// </summary>
    /// <value></value>
    [Parameter]
    public bool Value { get; set; }

    [Parameter]
    public EventCallback<bool> ValueChanged { get; set; }

    [Parameter]
    public string CssClass { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, Object> AdditionalAttributes { get; set; }

    async Task OnSelect(ChangeEventArgs args)
    {
        if (args?.Value as string == "left")
            Value = false;
        else if (args?.Value as string == "right")
            Value = true;
        else return;

        if (ValueChanged.HasDelegate)
        {
            await ValueChanged.InvokeAsync(Value);
        }
    }
}
