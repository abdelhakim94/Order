@page "/"

@using Order.Client.Components.Form
@using Order.Client.Components.Misc

@namespace Order.Client.Pages


<EditForm Model=@UserSignInData OnValidSubmit=@HandleFormSubmition @onclick=@(() => NotificationModal.Close())>

    <ObjectGraphDataAnnotationsValidator />

    <div class="form-container @disabled @hidden">

        <h1 class="form-header">@M.SignIn</h1>

        <div>
            <OInputText CssClass="form-input" PlaceHolder=@M.Email @bind-Value=@UserSignInData.Email />
            <ValidationMessage For=@( () => UserSignInData.Email ) />
        </div>

        <div>
            <OInputText IsSensitiveInput=@true CssClass="form-input" PlaceHolder=@M.Password
                @bind-Value=@UserSignInData.Password />
            <ValidationMessage For=@( () => UserSignInData.Password) />
        </div>

        <Button CssClass="form-submit" Type="submit" Label=@M.Login />

        <div class="redirection">
            <a href="" @onclick=@ResetPasswordModalShow>@M.ForgotPassword</a>
        </div>

        <LineTextSeparator Text=@M.ContinueWith />

        <div class="social-logins">
            <SocialMediaButton CssClass="social-login-button" SocialMediaPath=@SocialSpritePath ImagesInSprite=3
                Translate=0 />
            <SocialMediaButton CssClass="social-login-button" SocialMediaPath=@SocialSpritePath ImagesInSprite=3
                Translate=50 />
            <SocialMediaButton CssClass="social-login-button" SocialMediaPath=@SocialSpritePath ImagesInSprite=3
                Translate=100 />
        </div>

        <div class="redirection">
            @M.AskForAccountAbsence <a href="/SignUp" class="redirect">@M.SignUpRedirect</a>
        </div>

    </div>

    <div class=@disabled>
        <Modal @ref=@resetPasswordModal CssClass="pw-recovery-modal">
            <div>
                <OInputText CssClass="form-input pw-recovery-input" PlaceHolder=@M.Email
                    @bind-Value=@UserSignInData.Email />
                <ValidationMessage For=@( () => UserSignInData.Email ) />
            </div>
            <div class="pw-recovery-buttons">
                <Button CssClass="pw-recovery-button" Label=@M.Send @onclick=@OnResetPasswordSend />
                <Button CssClass="pw-recovery-button" Label=@M.Cancel @onclick=@OnPasswordRecoveryCancel Danger=@true />
            </div>
        </Modal>
    </div>

</EditForm>
